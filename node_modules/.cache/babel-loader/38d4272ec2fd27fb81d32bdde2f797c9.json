{"remainingRequest":"/opt/lampp/htdocs/test/vue-auth/node_modules/babel-loader/lib/index.js!/opt/lampp/htdocs/test/vue-auth/src/router.js","dependencies":[{"path":"/opt/lampp/htdocs/test/vue-auth/src/router.js","mtime":1533194904000},{"path":"/opt/lampp/htdocs/test/vue-auth/node_modules/cache-loader/dist/cjs.js","mtime":1557493977645},{"path":"/opt/lampp/htdocs/test/vue-auth/node_modules/babel-loader/lib/index.js","mtime":1529635966000}],"contextDependencies":[],"result":["import Vue from 'vue';\nimport Router from 'vue-router';\nimport store from './store.js';\nimport Home from './views/Home.vue';\nimport About from './views/About.vue';\nimport Login from './components/Login.vue';\nimport Secure from './components/Secure.vue';\nimport Register from './components/Register.vue';\nVue.use(Router);\nvar router = new Router({\n  mode: 'history',\n  routes: [{\n    path: '/',\n    name: 'home',\n    component: Home\n  }, {\n    path: '/login',\n    name: 'login',\n    component: Login\n  }, {\n    path: '/register',\n    name: 'register',\n    component: Register\n  }, {\n    path: '/secure',\n    name: 'secure',\n    component: Secure,\n    meta: {\n      requiresAuth: true\n    }\n  }, {\n    path: '/about',\n    name: 'about',\n    component: About\n  }]\n});\nrouter.beforeEach(function (to, from, next) {\n  if (to.matched.some(function (record) {\n    return record.meta.requiresAuth;\n  })) {\n    if (store.getters.isLoggedIn) {\n      next();\n      return;\n    }\n\n    next('/login');\n  } else {\n    next();\n  }\n});\nexport default router;",{"version":3,"sources":["src/router.js"],"names":["Vue","Router","store","Home","About","Login","Secure","Register","use","router","mode","routes","path","name","component","meta","requiresAuth","beforeEach","to","from","next","matched","some","record","getters","isLoggedIn"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AACA,OAAOC,KAAP,MAAkB,YAAlB;AACA,OAAOC,IAAP,MAAiB,kBAAjB;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AACA,OAAOC,KAAP,MAAkB,wBAAlB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,QAAP,MAAqB,2BAArB;AAEAP,IAAIQ,GAAJ,CAAQP,MAAR;AAEA,IAAIQ,SAAS,IAAIR,MAAJ,CAAW;AACtBS,QAAM,SADgB;AAEtBC,UAAQ,CACN;AACEC,UAAM,GADR;AAEEC,UAAM,MAFR;AAGEC,eAAWX;AAHb,GADM,EAMN;AACES,UAAM,QADR;AAEEC,UAAM,OAFR;AAGEC,eAAWT;AAHb,GANM,EAWN;AACEO,UAAM,WADR;AAEEC,UAAM,UAFR;AAGEC,eAAWP;AAHb,GAXM,EAgBN;AACEK,UAAM,SADR;AAEEC,UAAM,QAFR;AAGEC,eAAWR,MAHb;AAIES,UAAM;AACJC,oBAAc;AADV;AAJR,GAhBM,EAwBN;AACEJ,UAAM,QADR;AAEEC,UAAM,OAFR;AAGEC,eAAWV;AAHb,GAxBM;AAFc,CAAX,CAAb;AAkCAK,OAAOQ,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC,MAAGF,GAAGG,OAAH,CAAWC,IAAX,CAAgB;AAAA,WAAUC,OAAOR,IAAP,CAAYC,YAAtB;AAAA,GAAhB,CAAH,EAAwD;AACtD,QAAId,MAAMsB,OAAN,CAAcC,UAAlB,EAA8B;AAC5BL;AACA;AACD;;AACDA,SAAK,QAAL;AACD,GAND,MAMO;AACLA;AACD;AACF,CAVD;AAYA,eAAeX,MAAf","sourceRoot":"/opt/lampp/htdocs/test/vue-auth","sourcesContent":["import Vue from 'vue'\nimport Router from 'vue-router'\nimport store from './store.js'\nimport Home from './views/Home.vue'\nimport About from './views/About.vue'\nimport Login from './components/Login.vue'\nimport Secure from './components/Secure.vue'\nimport Register from './components/Register.vue'\n\nVue.use(Router)\n\nlet router = new Router({\n  mode: 'history',\n  routes: [\n    {\n      path: '/',\n      name: 'home',\n      component: Home\n    },\n    {\n      path: '/login',\n      name: 'login',\n      component: Login\n    },\n    {\n      path: '/register',\n      name: 'register',\n      component: Register\n    },\n    {\n      path: '/secure',\n      name: 'secure',\n      component: Secure,\n      meta: { \n        requiresAuth: true\n      }\n    },\n    {\n      path: '/about',\n      name: 'about',\n      component: About\n    }\n  ]\n})\n\nrouter.beforeEach((to, from, next) => {\n  if(to.matched.some(record => record.meta.requiresAuth)) {\n    if (store.getters.isLoggedIn) {\n      next()\n      return\n    }\n    next('/login') \n  } else {\n    next() \n  }\n})\n\nexport default router"]}]}